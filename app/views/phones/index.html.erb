<%= render partial: '/breadcrumb', locals: {
  items: [
    ['TerritÃ³rios', territories_path],
    [@territory.name, territory_path(@territory)],
    ['Telefones']
  ]
}
%>

<table class="table table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Telefone</th>
      <th>Nome</th>
      <th>Status</th>
    </tr>
  </thead>
  <% @phones.each_with_index do |phone, index| %>
    <% phone = PhoneDecorator.new(phone) %>
    <tr>
      <td><%= (index + 1).to_s.rjust(3, '0') %></td>
      <td><%= link_to(phone.number, territory_phone_path(@territory, phone)) %></td>
      <td><%= phone.contact_name %></td>
      <td><%= t("app.phone_status.#{phone.status}") if phone.contacted? %></td>
    </tr>
  <% end %>
</table>

<% unless @territory.full?  %>
  <hr>

  <h2>Adicione novos telefones</h2>
  <%= form_with(url: "#{territory_phones_path(@territory)}", method: :post, data: { remote: :false }) do %>
    <div class="row">
      <div class="col-lg-12">
        <%= text_area_tag(:phone_numbers, nil, placeholder: "telefone 1\ntelefone 2\n...\ntelefone 100", rows: 10) %>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <input type="submit" class="btn btn-success" value="Criar telefones" >
      </div>
    </div>
  <% end %>
<% end %>
